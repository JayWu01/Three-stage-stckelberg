import matplotlib.pyplot as plt
import matplotlib

# 预设字体格式，并传给rc方法
import numpy as np

font = {'family': 'SimHei', "size": 16}
matplotlib.rc('font', **font)  # 一次定义终身使用
# 四组数据
np.set_printoptions(precision=16)
U_user_v, U_S_t_v, U_vop_v = [98.3980360534301, 87.90561742707794, 79.86062487093739,
                                                  73.42699085044411, 68.13065537852144, 63.67600219151037,
                                                  59.86628544646378, 56.56415359216366, 52.340707384641085,
                                                  49.846359179220016, 47.6211591275141, 45.6223682721461,
                                                  43.81608578224053, 42.175025964164874, 40.67694624776933,
                                                  39.42908700401894, 38.13220413056707, 37.044098592373494,
                                                  36.03108620022586, 34.950599810749466, 34.05400759007333,
                                                  33.21422899148318, 32.42646485977164, 31.54409709966502,
                                                  30.836231018881467, 30.444026530661183, 29.795652619634495,
                                                  29.441631463927386, 29.105914257751248, 28.787368494309266,
                                                  28.484958379140448, 27.773956014301525, 27.49484439037456,
                                                  27.229299059947277, 26.97657719417982, 26.735991738843172,
                                                  26.506906024074716, 26.28872900875296], np.array([
                                                     [-2286.5900453548443, -672.3609047126718, -472.7077466585044],
                                                     [-1189.7004101934078, -524.354674842279, -338.3060051922654],
                                                     [-684.3278411082441, -421.01363058692124, -247.02869371390005],
                                                     [-415.8190333140642, -345.8814576784654, -183.45172910442983],
                                                     [-259.6969082805889, -288.5927697025669, -137.6341374377302],
                                                     [-163.5137728350218, -243.47920626683222, -103.36191030891565],
                                                     [-101.94856699010653, -207.0144989006912, -76.90672962565876],
                                                     [-62.414309536232054, -160.93656108434647, -48.91437303042909],
                                                     [-36.24747090540004, -130.49790875511263, -31.894479366449456],
                                                     [-18.861082754595817, -110.77192137050746, -19.09131406517417],
                                                     [-7.273912438040579, -93.67633455993871, -8.33552816374888],
                                                     [0.2285451539882839, -78.67310260715637, 0.8353943394601266],
                                                     [4.794712965539176, -65.35823854576222, 8.758692692573693],
                                                     [7.213702004996875, -53.42315102541698, 15.685201456433418],
                                                     [7.267990484429076, -40.191155584518185, 22.195880394244277],
                                                     [8.145852932495886, -29.292592199059698, 27.707068759726972],
                                                     [8.532312500000005, -19.033270144575134, 32.17719346086521],
                                                     [8.531978025570563, -8.740479519895807, 36.04418644895091],
                                                     [9.008342941748976, -0.8674794398807748, 39.715807235603926],
                                                     [9.685229452768432, 6.366985091451262, 42.14470517381067],
                                                     [9.909298727256994, 13.636038815176406, 44.188507670651525],
                                                     [9.961718678131005, 20.076611412382903, 45.74321756003907],
                                                     [10.289977872508626, 25.690925552560984, 48.115560240360345],
                                                     [11.309872928229858, 30.374582377092594, 48.93913394614519],
                                                     [11.357868822217247, 35.03567359548524, 49.541468660076205],
                                                     [11.537356516842912, 39.554918594648576, 50.00479805945723],
                                                     [11.440862412519898, 43.047412416245635, 50.61764698435132],
                                                     [11.410028860669566, 46.27346176126177, 51.092494990337535],
                                                     [11.351146802599228, 49.011325599042976, 51.563807286878856],
                                                     [11.263893946337262, 51.31775088651439, 52.031179264483676],
                                                     [11.855161806200803, 54.82733780906102, 53.86710151109263],
                                                     [13.02767736077827, 56.13405243083361, 54.478374970052464],
                                                     [13.071269774076704, 57.60231569614438, 54.9662023277523],
                                                     [13.088966278222852, 58.783574451225135, 55.44950281145585],
                                                     [13.08056411897163, 59.70737457006924, 55.92810253366541],
                                                     [13.045884040049657, 60.39964177045738, 56.40185581204169],
                                                     [12.984767089641657, 60.883195847980694, 56.870640537040536],
                                                     [12.827423799198126, 61.23470758718115, 56.842984156119634]]), [
                                                     1575.2500666090152, 849.503584024073, 507.3868608320522,
                                                     339.732711592899, 244.10154983432702, 185.22842034036387,
                                                     147.01929105707043, 121.19665663483832, 94.10729209397026,
                                                     81.73481754918838, 72.64354142931, 65.85552189391089,
                                                     60.72251596913977, 56.80255566317367, 53.65857860385172,
                                                     47.93672852178901, 45.701477521111215, 41.22933561570183,
                                                     37.46436016915473, 36.02352456202662, 32.943342556967295,
                                                     30.444021254020388, 28.4595242138616, 27.216088360975007,
                                                     25.531576570650262, 23.41600641630034, 22.37409539322484,
                                                     20.803179005110465, 19.481263329171867, 18.3795860104361,
                                                     17.473525144196678, 16.114766927458213, 15.299177200306865,
                                                     14.63198621237794, 14.098510500129848, 13.68593739156848,
                                                     13.383052408752441, 13.180010499307508]


# 绘制折线图
# plt.plot(range(len(U_user_v)), U_user_v, label='用户的平均效益值', marker='.')
# plt.plot(range(len(U_S_t_v[:,0])), U_S_t_v[:,0], label='云服务器的效益值', marker='o')
# plt.plot(range(len(U_S_t_v[:,1])), U_S_t_v[:,1], label='M1服务器的效益值', marker='s')
# plt.plot(range(len(U_S_t_v[:,2])), U_S_t_v[:,2], label='M2服务器的效益值', marker='^')
# plt.plot(range(len(U_vop_v)), U_vop_v, label='vop的效益值', marker='x')

# 绘制折线图
plt.plot(range(len(U_user_v)), U_user_v, label='用户的平均效益值')
plt.plot(range(len(U_S_t_v[5:,0])), U_S_t_v[5:,0], label='云服务器的效益值')
plt.plot(range(len(U_S_t_v[5:,1])), U_S_t_v[5:,1], label='M1服务器的效益值')
plt.plot(range(len(U_S_t_v[5:,2])), U_S_t_v[5:,2], label='M2服务器的效益值')
plt.plot(range(5,len(U_vop_v)), U_vop_v[5:], label='vop的效益值')
# 添加图例
plt.legend()

# 添加标题和轴标签
plt.xlabel('博弈次数', fontsize=16)
plt.ylabel('效益值', fontsize=16)
plt.xticks(fontsize=13.5)  # 修改x轴刻度字体大小
plt.yticks(fontsize=13.5)  # 修改y轴刻度字体大小
# 添加图例并设置字体大小
plt.legend(fontsize='16')
# 显示图形

plt.show()
